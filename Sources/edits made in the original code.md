| File (`src/...`)                                    | What to edit                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Why                                                                                                               |          |           |                                                                                      |                                                     |
| --------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------- | -------- | --------- | ------------------------------------------------------------------------------------ | --------------------------------------------------- |
| **`settings.ts`**                                   | **1. Update defaults:**  `ts\nreadingSpeed: 200,\nformat: "compact", // was "default"\nappendText: "left", // was "read"\nshowProgressPercentage: true, // new field\n`<br><br>**2. In `display()`:**<br>• change description for “Append Text” to *"Append 'left'…"*,<br>• keep dropdown logic but set initial format to `"compact"`,<br>• **add this new toggle block:**<br>`ts\nnew Setting(this.containerEl)\n  .setName("Show % of Reading Progress")\n  .setDesc("Display how much of the file has been read as a percentage.")\n  .addToggle(t =>\n    t.setValue(this.plugin.settings.showProgressPercentage)\n      .onChange(async v => {\n        this.plugin.settings.showProgressPercentage = v;\n        await this.plugin.saveSettings();\n        this.plugin.calculateReadingTime();\n      })\n  );\n`                                                                                                                                                                                                                                                                                                                                                                                                                                        | You added new settings + changed defaults. Do it in the TS source; otherwise your edits vanish on the next build. |          |           |                                                                                      |                                                     |
| **`helpers.ts`**                                    | Inside `readingTimeText()` → in the `"default"` case replace:  ``ts\nreturn plugin.settings.appendText\n  ? `${result.minutes} min left`\n  : `${result.minutes} min`;\n``                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Reflects the change from “read” → “left”.                                                                         |          |           |                                                                                      |                                                     |
| **`main.ts`**                                       | **Replace `calculateReadingTime` completely:**  ``ts\ncalculateReadingTime = () => {\n  const mdView = this.app.workspace.getActiveViewOfType(MarkdownView);\n  if (!(mdView && mdView.editor)) {\n    this.statusBar.setText("0 min left");\n    return;\n  }\n  const editor = mdView.editor;\n  const cursor = editor.getCursor();\n  const totalLines = editor.lineCount();\n\n  // text above cursor\n  let above = \"\";\n  for (let i = 0; i < cursor.line; i++) above += editor.getLine(i) + \"\\n\";\n  above += editor.getLine(cursor.line).slice(0, cursor.ch);\n\n  const totalText = editor.getValue();\n  const progress = Math.min(100, Math.round(above.length / totalText.length * 100));\n\n  // text below cursor\n  let below = \"\";\n  for (let i = cursor.line; i < totalLines; i++) below += editor.getLine(i) + \"\\n\";\n\n  const rt = readingTimeText(below, this);\n  let status = `${rt}`;\n  if (this.settings.showProgressPercentage) status += ` (${progress}%)`;\n  this.statusBar.setText(status);\n};\n``<br><br>**In `onload()`:**<br>• Add a listener for `"active-leaf-change"`.<br>• Reduce debounce delay to `500`.<br>• Insert a `setInterval` block (every 500 ms) to track cursor position and recalc reading time. | This is your new “remaining reading time from cursor” logic + progress percentage.                                |          |           |                                                                                      |                                                     |
| **`types.ts`** *(if you have a settings interface)* | ```ts\ninterface ReadingTimeSettings {\n  readingSpeed: number;\n  format: "default"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | "compact"                                                                                                         | "simple" | "verbose" | "digital";\n  appendText: string;\n  showProgressPercentage: boolean; // NEW\n}\n``` | Keeps TypeScript from yelling about missing fields. |
